---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import * as m from '../paraglide/messages.js';
import Count from '../assets/images/count_img_white.svg';
---

<Layout title={`Terms of Use - Wavmap`} description="Terms of Use - Wavmap Platform">
  <Navbar currentPage="terms" />
  <main class="container">
    <div id="parallax-container" class="flex flex-row">
      <!-- Column 1 -->
      <div class="flex-1 parallax-column" data-speed="3">
        <div class="column-content">
          <p class="xtra-large">TERMS OF USE</p>

          <div class="section-container flex">
            <div class="count">
              <img src={Count.src} alt="" />
              <p>001</p>
            </div>
            <div>
              <p class="large">Acceptance of Terms</p>
              <p class="text-base">
                By accessing and using the WAVMAP platform, you accept and agree to be bound by the terms and provision of this agreement. These terms of use apply to all users of the platform, including artists, venue operators, and general users.
              </p>
              <p class="text-base">
                If you do not agree to abide by the above, please do not use this service. We reserve the right to modify these terms at any time, and such modifications will be effective immediately upon posting on the platform.
              </p>
            </div>
          </div>

          <div class="separator" />

          <div class="section-container flex">
            <div class="count">
              <img src={Count.src} alt="" />
              <p>002</p>
            </div>
            <div>
              <p class="large">Platform Purpose</p>
              <p class="text-base">
                WAVMAP is a community platform designed to connect underground electronic music artists, promote diversity in the music scene, and facilitate discovery of new talents across Europe and beyond.
              </p>
              <p class="text-base">
                The platform serves as a space for artists to showcase their work, connect with audiences, and build meaningful connections within the electronic music community while promoting inclusivity and respect.
              </p>
            </div>
          </div>

          <div class="separator" />

          <div class="section-container flex">
            <div class="count">
              <img src={Count.src} alt="" />
              <p>003</p>
            </div>
            <div>
              <p class="large">User Accounts and Registration</p>
              <p class="text-base">
                To access certain features of WAVMAP, you may be required to create an account. You are responsible for maintaining the confidentiality of your account information and for all activities that occur under your account.
              </p>
              <p class="text-base">
                You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete.
              </p>
            </div>
          </div>

          <div class="separator" />

          <div class="section-container flex">
            <div class="count">
              <img src={Count.src} alt="" />
              <p>004</p>
            </div>
            <div>
              <p class="large">Content Guidelines</p>
              <p class="text-base">
                Users are responsible for all content they submit to the platform. Content must align with our community values of inclusivity, respect, and artistic expression. We reserve the right to remove content that violates our community guidelines.
              </p>
              <p class="text-base">
                By submitting content, you grant WAVMAP a non-exclusive, worldwide, royalty-free license to use, display, and distribute your content on the platform for promotional and community-building purposes.
              </p>
            </div>
          </div>

          <div class="separator" />

          <div class="section-container flex">
            <div class="count">
              <img src={Count.src} alt="" />
              <p>005</p>
            </div>
            <div>
              <p class="large">Prohibited Activities</p>
              <p class="text-base">
                Users may not engage in harassment, discrimination, spam, or any form of harmful behavior. Commercial activities outside of artist promotion are prohibited without explicit permission.
              </p>
              <p class="text-base">
                Violations may result in account suspension or termination. We reserve the right to investigate and take appropriate action against any violations of these terms.
              </p>
            </div>
          </div>

          <div class="separator" />

          <div class="section-container flex">
            <div class="count">
              <img src={Count.src} alt="" />
              <p>006</p>
            </div>
            <div>
              <p class="large">Intellectual Property</p>
              <p class="text-base">
                All intellectual property rights in the platform and its content remain with WAVMAP or the respective content creators. Users retain ownership of their submitted content while granting usage rights to the platform.
              </p>
              <p class="text-base">
                Unauthorized use of platform content or violation of intellectual property rights is strictly prohibited and may result in legal action.
              </p>
            </div>
          </div>

          <div class="separator" />

          <div class="section-container flex">
            <div class="count">
              <img src={Count.src} alt="" />
              <p>007</p>
            </div>
            <div>
              <p class="large">Contact Information</p>
              <p class="text-base">
                For questions about these Terms of Use, please contact us at legal@wavmap.eu. We are committed to addressing any concerns and maintaining transparency in our platform operations.
              </p>
              <p class="text-base">
                Last updated: [Date to be filled]
              </p>
            </div>
          </div>
        </div>

        <div class="img-container">
          <!-- Add any decorative images here if needed -->
        </div>
      </div>

      <!-- Column 2 -->
      <div class="flex-1 parallax-column" data-speed="2">
        <div class="column-content">
          <div class="big-section">
            <p class="xtra-large">LEGAL FRAMEWORK</p>

            <div class="section-container flex">
              <div class="count">
                <img src={Count.src} alt="" />
                <p>008</p>
              </div>
              <div>
                <p class="large">Limitation of Liability</p>
                <p class="text-base">
                  WAVMAP is provided "as is" without warranties of any kind. We shall not be liable for any direct, indirect, incidental, or consequential damages arising from the use of the platform.
                </p>
                <p class="text-base">
                  Users acknowledge that they use the platform at their own risk and that WAVMAP cannot guarantee uninterrupted or error-free service.
                </p>
              </div>
            </div>

            <div class="separator" />

            <div class="section-container flex">
              <div class="count">
                <img src={Count.src} alt="" />
                <p>009</p>
              </div>
              <div>
                <p class="large">Termination</p>
                <p class="text-base">
                  We reserve the right to terminate or suspend access to the platform immediately, without prior notice, for any reason including breach of these terms.
                </p>
                <p class="text-base">
                  Upon termination, your right to use the platform will cease immediately. Provisions that by their nature should survive termination will survive.
                </p>
              </div>
            </div>

            <div class="separator" />

            <div class="section-container flex">
              <div class="count">
                <img src={Count.src} alt="" />
                <p>010</p>
              </div>
              <div>
                <p class="large">Governing Law</p>
                <p class="text-base">
                  These terms shall be governed by and construed in accordance with the laws of [Jurisdiction to be specified], without regard to its conflict of law provisions.
                </p>
                <p class="text-base">
                  Any disputes arising from these terms or use of the platform shall be resolved through appropriate legal channels in the specified jurisdiction.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="img-container">
          <!-- Add any decorative images here if needed -->
        </div>
      </div>

      <!-- Column 3 -->
      <div class="flex-1 parallax-column" data-speed="1">
        <div class="column-content">
          <div class="big-section">
            <p class="xtra-large">UPDATES & CHANGES</p>

            <div class="section-container flex">
              <div class="count">
                <img src={Count.src} alt="" />
                <p>011</p>
              </div>
              <div>
                <p class="large">Modifications to Service</p>
                <p class="text-base">
                  WAVMAP reserves the right to modify, suspend, or discontinue the platform or any part of it at any time without notice. We are not liable for any modification, suspension, or discontinuation of the service.
                </p>
                <p class="text-base">
                  We will make reasonable efforts to notify users of significant changes to the platform that may affect their use of the service.
                </p>
              </div>
            </div>

            <div class="separator" />

            <div class="section-container flex">
              <div class="count">
                <img src={Count.src} alt="" />
                <p>012</p>
              </div>
              <div>
                <p class="large">Severability</p>
                <p class="text-base">
                  If any provision of these terms is found to be unenforceable or invalid, that provision will be limited or eliminated to the minimum extent necessary so that the terms will otherwise remain in full force and effect.
                </p>
              </div>
            </div>

            <div class="separator" />

            <div class="section-container flex">
              <div class="count">
                <img src={Count.src} alt="" />
                <p>013</p>
              </div>
              <div>
                <p class="large">Entire Agreement</p>
                <p class="text-base">
                  These terms constitute the entire agreement between you and WAVMAP regarding the use of the platform and supersede all prior agreements and understandings.
                </p>
                <p class="text-base">
                  No amendment to these terms will be effective unless made in writing and signed by an authorized representative of WAVMAP.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="img-container">
          <!-- Add any decorative images here if needed -->
        </div>
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<script>
  function initParallax() {
    const parallaxColumns = document.querySelectorAll('.parallax-column');
    if (!parallaxColumns.length) return;

    function updateParallax() {
      const scrollTop = window.pageYOffset;
      const windowHeight = window.innerHeight;
      const documentHeight = document.documentElement.scrollHeight;
      const maxScroll = documentHeight - windowHeight;

      parallaxColumns.forEach(column => {
        const speed = parseFloat(column.dataset.speed) || 0;
        const content = column.querySelector('.column-content');

        // Constant parallax effect
        const yPos = scrollTop * speed * 0.8; // Effet constant : 80% du mouvement original

        // Cap only when really necessary to prevent excessive space
        const maxMovement = windowHeight * 0.4; // Max 0.4x viewport height
        const cappedYPos = Math.min(yPos, maxMovement);

        content.style.transform = `translateY(-${cappedYPos}px)`;
      });
    }

    // Throttled scroll handler
    let ticking = false;
    function handleScroll() {
      if (!ticking) {
        requestAnimationFrame(() => {
          updateParallax();
          ticking = false;
        });
        ticking = true;
      }
    }

    // Remove existing listeners to avoid duplicates
    window.removeEventListener('scroll', handleScroll);
    window.removeEventListener('resize', updateParallax);

    // Add listeners
    window.addEventListener('scroll', handleScroll, { passive: true });
    window.addEventListener('resize', updateParallax);

    // Initial call
    updateParallax();
  }

  // Initialize on DOM ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initParallax);
  } else {
    initParallax();
  }

  // Reinitialize on Astro page navigation
  document.addEventListener('astro:page-load', initParallax);
</script>

<style>
  #parallax-container {
    min-height: 0;
    height: auto;
    align-items: flex-start;
  }

  .parallax-column {
    padding: 1.5rem 1rem;
    overflow: visible;
    position: relative;
    height: auto;
    min-height: 0;
    flex-shrink: 0;
  }

  .parallax-column img {
    align-self: right;
    height: 60px;
  }

  .img-container {
    display: flex;
    align-items: end;
    justify-content: end;
    padding-top: 40vh;
  }

  .count {
    position: relative;
    display: inline-block;
  }

  .big-section {
    padding-top: 4rem;
    padding-bottom: 4rem;
  }

  .section-container {
    gap: 0.5rem;
  }

  .count img {
    width: 38px !important;
    min-width: 38px;
    display: block;
    object-fit: contain;
  }

  .count p {
    position: absolute;
    top: 11px;
    left: 20%;
    margin: 0;
    font-size: 12px;
    font-weight: bold;
    color: white;
  }

  .column-content {
    will-change: transform;
    padding-bottom: 1rem;
    height: fit-content;
    min-height: 0;
  }

  .parallax-column a {
    color: white;
    text-decoration: underline;
    font-weight: 500;
  }

  .separator {
    height: 2px;
    background: white;
    margin: 2rem 0;
    opacity: 0.3;
  }

  /* Typography from global styles */
  .xtra-large {
    font-size: 3rem;
    font-weight: 900;
    line-height: 1.1;
    margin: 2rem 0;
  }

  .large {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 1.5rem 0 1rem 0;
  }

  .text-base {
    font-size: 1rem;
    line-height: 1.6;
    margin: 1rem 0;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .parallax-column {
      padding: 1rem 0.5rem;
    }

    .xtra-large {
      font-size: 2rem;
    }

    .large {
      font-size: 1.2rem;
    }

    .text-base {
      font-size: 0.9rem;
    }

    #parallax-container {
      flex-direction: column;
    }
  }
</style>
---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import * as m from '../paraglide/messages.js';
import Logo from '../assets/images/logo_white.svg';
import Count from '../assets/images/count_img_white.svg';
import Feedback from '../assets/images/feedback.svg';
import FeedbackBg from '../assets/images/feedback_bg.svg';
import HoverLink from '../components/HoverLink.astro';
---

<Layout title={`About - Wavmap`} description="About Wavmap - Underground music community platform">
  <Navbar currentPage="about" />
  <main class="container">
    <div id="parallax-container" class="flex flex-row">
      <!-- Colonne 1 - très rapide -->
      <div class="flex-1 parallax-column" data-speed="3">
        <div class="column-content">
        <p class="xtra-large">CODE OF CONDUCT</p>
        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>001</p>
          </div>
          <div>
            <p class="large">Our Vision</p>
            <p class="text-base">With WAVMAP, we want to contribute to an electronic music 
              scene where every person feels equally welcome and has the possibility to express 
              themselves, be creative and enjoy the pleasures of club culture. This means 
              confronting the oppressive systems ingrained in our societies - such as but 
              not limited to racism, sexism, antisemitism, homophobia, transphobia, queerphobia, 
              ableism and classism - that shape who gets access to spaces, resources, and 
              recognition under capitalism. While we’ve all been socialized under these 
              systems, their violence disproportionately targets marginalized communities</p>

            <p class="text-base">In addition to the above, we also believe in transborder 
              solidarity. In times of war, occupation, and displacement (from Europe to the 
              SWANA region and beyond), we hope WAVMAP can foster a community that 
              transcends borders, celebrating what unites us over what divides us. 
              Therefore, we want to give importance to voices from affected regions 
              and support initiatives that align with our values.</p>

            <p class="text-base">
              Dance music and club culture have emerged as an attempt to create 
              safer spaces for people suffering from the above mentioned systems 
              of oppression. This is especially true for racialised and queer people. 
              Although we don’t think that the electronic music scene alone will put 
              an end to these oppressions, we believe that we have a responsibility 
              in trying to create spaces where marginalized people feel included. 
              We therefore wish to create an environment of solidarity and respect, 
              both on our platform and during our online and in-person events. 
            </p>
            <p class="text-base">
              All users of WAVMAP and participants of WAVMAP events of any kind shall 
              accept the following code of conduct and contribute, according to their 
              personal situation and capabilities, to a joyful and liberating electronic 
              music scene for all. We acknowledge that we all still have to learn, but 
              we believe in the transformative power of collective action and music. 
            </p>
            <p class="text-base">
              If you have questions, critique or suggestions, please don't hesitate
              to reach out to our team via : …@wavmap.eu.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>002</p>
          </div>
          <div>
            <p class="large">Why we need Awareness</p>
            <p class="text-base">
              We live in a society in which unequal power relations are a reality. People
              have privileges or face discrimination on the basis of different characteristics.
               Discrimination can happen intentionally, but in most cases it happens unintentionally.
               Awareness is a concept that opposes all forms of discrimination, violence and boundary
              violations. We want to empower those affected and actively support in developing their own
              strategies for dealing with discrimination.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>003</p>
          </div>
          <div>
            <p class="large">
              Respect and dignity
            </p>
            <p class="text-base">
              Whether it is during in-person or online events linked to WAVMAP, we have a
              responsibility towards each other to ensure that everyone has the best experience.
              We encourage all users and participants to treat everyone with respect, dignity and
              kindness. We don't tolerate any form of discrimination, harassment and abuse - whether
              verbal or physical. We want an atmosphere in which everyone is able to speak up and in
              which different levels of knowledge can be brought together productively. An approachable
              and attentive culture of discussion is a crucial basis for this. We advocate openness to
              a wide range of positions and tolerance for ambivalence, as well as the need for dialog
              - as long as this does not involve discrimination or crossing boundaries and is done in a respectful way.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>004</p>
          </div>
          <div>
            <p class="large">Awareness of power structures</p>
            <p class="text-base">
              We want to encourage WAVMAP users and participants in our events and other
              activities to be aware of their position within a group and underlying power
              structures. Don't take too much space and give enough space to others, especially
              people from marginalised groups. This applies to physical space as well as space
              within a conversation. For example: Reflect on how your identity (e.g., gender,
              race, ability) might affect how much space you take in conversations or decision-making.
              We can only confront, change and dismantle power structures by working together. For us,
              this includes raising awareness of our own privileges and existing power structures, as
              well as the initiative, self-reflection and sensitization of each individual.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>005</p>
          </div>
          <div>
            <p class="large">
              Consent
            </p>
            <p class="text-base">
              We want to create an environment where interactions between individuals, and
              especially physical interactions or the discussion of sensitive topics, are
              based on consent. Consent must be explicit, reversible, and ongoing—for
              physical touch (e.g., dancing), photography, or personal discussions.
              Don't forget : only yes means yes, and a yes can always be revoked !
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>006</p>
          </div>
          <div>
            <p class="large">
              Personal boundaries
            </p>
            <p class="text-base">
              Respecting each one's personal boundaries is fundamental to
              creating an environment where everyone feels respected. Whenever
              someone requests to respect their personal boundaries, it is
              important to do so. Please refrain from questioning other
              people's perceptions when it comes to their personal boundaries.
              Just because you perceive something differently, as less bad or
              not bad at all, it doesn't have to correspond to the perception
              and feelings of the other person.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>007</p>
          </div>
          <div>
            <p class="large">Inclusive language</p>
            <p class="text-base">
              We want to encourage the use of inclusive language that doesn't
              make assumptions about others. The use of pronouns according to a
              person's wish creates an environment where they feel welcomed.
              If you are unsure which pronouns a person uses, do not simply
              assume a gender based on appearance, but ask about the pronouns
              or do not use any pronouns until you have learned them (e.g. only
              use the name of the person). Also, please do not use derogatory or
              discriminatory terms in any form.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>008</p>
          </div>
          <div>
            <p class="large">Accessibility</p>
            <p class="text-base">
              We prioritize accessibility at events (e.g. ramps, quiet spaces).
              We try to make each event as accessible for everyone to the best of
              our ability and the individual needs of our participants.
              Unfortunately at the time we can't fully guarantee sufficient accessibility at every single one of our events, but we are committed to learning over time and are constantly reviewing and improving our events in this respect. Please don't hesitate to contact us in advance for needs at <a href="mailto:help@wavmap.eu">help@wavmap.eu</a>.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>009</p>
          </div>
          <div>
            <p class="large">Reporting procedures</p>
            <p class="text-base">
              Whether it is during online or in-person events, please reach out
              to our team or any designated staff if you feel uncomfortable with
              a situation. In online-events please feel free to reach out to our
              team and/or moderator of the event via direct message. In the event
              of an incident, the person negatively affected by discrimination and/or
              the violation of their personal boundaries always decides what support
              is required. Together with our team, options for dealing with the
              incident are discussed and actions will be taken accordingly.
              Where possible, we provide a safe and quiet room to provide a place
              of retreat for affected persons. Posters will be displayed at the
              event explaining how to contact the relevant staff and will include
              contact details. Additionally you can report problematic situations after the event by writing to us at <a href="mailto:help@wavmap.eu">help@wavmap.eu</a>. Reporting is
              confidential. We commit to responding within 48 hours and involving
              affected parties in decisions where possible. Our team will also be
              available after an incident to provide emotional support to affected
              people and will refer them to further support services, where needed.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>010</p>
          </div>
          <div>
            <p class="large">Consequences</p>
            <p class="text-base">
              In case of abuse, harassment, violence or discrimination against
              another person or group that occurs during an online or in-person
              event, depending on the gravity of the situation and in accordance
              with victim's demands, we will take consequences ranging from
              warnings to temporary or definite exclusion from an event, as well
              as from the WAVMAP platform. Incidents might be documented
              (anonymously) and used for prevention at future events.
            </p>
          </div>
        </div>

        <div class="separator" />

        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>011</p>
          </div>
          <div>
            <p class="large">Prioritization of safety of marginalised groups</p>
            <p class="text-base">
              Although we aim towards a club culture where everyone feels
              equally welcome, we acknowledge that this is not yet the case.
              We therefore want to collectively prioritize the safety of marginalised groups.
            </p>
          </div>
        </div>

        <div class="separator" />
        
        <div class="section-container flex">
          <div class="count">
            <img src={Count.src} alt="" />
            <p>012</p>
          </div>
          <div>
            <p class="large">Active intervention</p>
            <p class="text-base">
              personal boundaries and resolutely counter such behavior. There
              are people responsible for awareness during our event - but it
              is also necessary that we all take responsibility individually.
              As we believe in collective action and responsibility, we strongly
              encourage bystander intervention. If it is safe to do so, we
              encourage participants to intervene in a situation that appears
              to be one of harassment or discrimination. If you are unable to
              intervene for whatever reason, we encourage you to reach out to
              our team in these instances, also if you aren't affected yourself
              or if you are unsure, if a person is indeed in need of help or not.
              We call on everyone to be mindful and attentive when working
              together and ask everyone to pay attention to and respect their
              own and others' needs and boundaries. If support is required in
              communicating boundaries, our designated staff is also available for this.
            </p>
          </div>
        </div>
      </div>
    </div>

      <!-- Colonne 2 - lente -->
      <div class="flex-1 parallax-column" data-speed="0.1">
        <div class="column-content space-y-6">
        <p class="xtra-large">
          ABOUT
        </p>
        <p class="text-base">
          WAVMAP is a digital platform for the independent electronic music scene. 
          WAVMAP encourages DJs, producers, promoters, labels and curators from all 
          over Europe to find like-minded individuals and collectives to exchange, 
          co-create and collaborate. We see WAVMAP as a contribution to a better 
          connected, more resilient underground scene, where artists and music 
          transcend borders to nurture creativity, generate new opportunities and build solidarity. 
        </p>
        <p class="text-base">
          WAVMAP empowers artists, activists and professionals to expand 
          their networks, provides them with valuable insights into less-explored 
          cities for live performances, and fosters cross-border co-creation beyond 
          the major electronic music hubs. By doing so, WAVMAP not only helps 
          bridge geographical gaps but also aims to support more inclusive, 
          sustainable, and collaborative music practices across Europe.
        </p>
        <div class="img-container">
          <img src={Logo.src} alt="logo" />
        </div>
      </div>
    </div>

      <!-- Colonne 3 - moyennement lente -->
      <div class="flex-1 parallax-column faq" data-speed="1">
        <div class="column-content space-y-6">
          <p class="xtra-large">FAQ</p>

          <p class="large big-section">Want to tell us something ?</p>

          <div class="separator" />

          <div class="link big-section">
            <!-- Desktop: button that reveals email on click -->
            <div class="desktop-only feedback-container">
              <button id="feedback-btn" class="feedback-button">
                <img src={Feedback.src} alt="Feedback" class="feedback-normal" />
                <img src={FeedbackBg.src} alt="Feedback" class="feedback-hover" />
              </button>
              <a href="mailto:contact@wavmap.org" id="email-reveal" class="email-link hidden">
                contact@wavmap.org
              </a>
            </div>
            <!-- Mobile: direct mailto link -->
            <div class="mobile-only">
              <HoverLink href="mailto:contact@wavmap.org" normal={Feedback.src} hover={FeedbackBg.src} />
            </div>
          </div>

          <div class="separator" />

          <p class="large">Why does WAVMAP mention club politics in the inscription form ?</p>
          <p class="text-base">
            Electronic music and rave culture have always been tied to resistance—born 
            from the creativity and need for liberation of marginalized communities 
            (BiPOC, queer, and working-class artists) who pioneered genres like techno, 
            house, footwork, and jungle. Yet today, many of these same groups face 
            exclusion as cultural appropriation, corporate interests and, in some cases, 
            fascist or reactionary ideologies infiltrate the scene.
          </p>
          <p class="text-base">
            For marginalized artists, knowing the political values of collaborators 
            and venues isn’t just practical—it’s a matter of safety and survival. 
            WAVMAP highlights these stances to help foster safer spaces and solidarity, 
            ensuring the scene remains a place where its creators can thrive.
          </p>
          <p class="text-base">
            This isn’t about sacrificing joy for politics; it’s about recognizing 
            that activism and celebration go hand in hand. The dance floor has always 
            been political—we’re just honoring that legacy.
          </p>

          <div class="separator" />

          <p class="large">
            What’s the economic model of WAVMAP ? 
          </p>
          <p class="text-base">
            WAVMAP is a project run by Commune de nuit, a non-profit based in Marseille 
            (France). The initial platform development has been made possible thanks to a 
            co-founding by the European Union via the LiveMX program. LiveMX aims at 
            supporting music export and artists mobility within Europe. 
          </p>
          <p class="text-base">
            Unlike platforms backed by investment funds or corporations, 
            WAVMAP is and always will be independent and non-profit driven. 
          </p>
          <p class="text-base">
            For now, everything on WAVMAP is free to use. In order to guarantee our 
            independence and ensure long-term sustainability, we may introduce optional 
            paid features in the future - fair and accessible to everyone. If you have 
            ideas on fair pricing models or funding strategies, please reach out to us ! 
          </p>

          <div class="separator" />

          <p class="large">Why is my country not on the list ?</p>
          <p class="text-base">
            WAVMAP was made possible through co-funding of the European Union’s 
            Creative Europe program, so the initial list only includes countries 
            participating in this program. This also allows us to adopt a more effective 
            and high-quality communication and distribution strategy, since we can focus 
            on a precise number of countries and their respective local scenes. However, 
            in the future, we would like to add more countries to the list. If you would 
            like to support this effort or have ideas for funding opportunities in your 
            country or region, we’d love to hear your ideas !
          </p>

          <div class="separator" />

          <p class="large">
            How can I get involved with WAVMAP ? 
          </p>
          <p class="text-base">
            There are many ways to support WAVMAP and help grow this community—here’s how you can contribute:
          </p>
          <p class="text-base">
            Spread the word
            Share the platform with your local music community! The more people join, 
            the stronger the network becomes, creating new opportunities for collaboration 
            and exchange.
          </p>
          <p class="text-base">
            Host or co-organize an event
            WAVMAP is all about connecting people from the electronic 
            music underground, creating moments of knowledge exchange and 
            collective imagination. We would love to come to your city or support 
            an event that you put up, so please drop us a message. 
          </p>
          <p class="text-base">
            Support us financially
            Donations help keep WAVMAP independent and sustainable. 
            If you’d like to contribute, you can do so here (link). 
          </p>
          <p class="text-base">
            Have another idea? We’re all ears—reach out and let’s make it happen.
          </p>
        </div>
      </div>
    </div>
  </main>
	<Footer />
</Layout>

<script>
  import Lenis from 'lenis';

  let lenis = null;

  function initLenisAndParallax() {
    // Check if mobile
    const isMobile = window.innerWidth <= 768;

    if (isMobile) {
      console.log('📱 Mobile detected - Smooth scroll and parallax disabled');
      return;
    }

    // Destroy existing Lenis instance
    if (lenis) {
      lenis.destroy();
    }

    // Initialize Lenis for smooth scrolling
    lenis = new Lenis({
      duration: 1.2,
      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
      smoothWheel: true,
      wheelMultiplier: 1,
    });

    // Get parallax columns
    const parallaxColumns = document.querySelectorAll('.parallax-column');

    // Lenis scroll callback for parallax
    lenis.on('scroll', ({ scroll }) => {
      parallaxColumns.forEach(column => {
        const speed = parseFloat(column.dataset.speed) || 1;
        const content = column.querySelector('.column-content');

        if (!content) return;

        // Reverse parallax: slow columns move UP (reveal content faster)
        // Fast columns stay relatively static
        // This avoids whitespace because content moves UP, not down
        const yPos = -scroll * (3 - speed) * 0.2;

        content.style.transform = `translate3d(0, ${yPos}px, 0)`;
      });
    });

    // Animation frame loop for Lenis
    function raf(time) {
      lenis.raf(time);
      requestAnimationFrame(raf);
    }

    requestAnimationFrame(raf);

    console.log('✅ Lenis smooth scroll + parallax initialized');
  }

  // Feedback button click handler
  function initFeedbackButton() {
    const feedbackBtn = document.getElementById('feedback-btn');
    const emailReveal = document.getElementById('email-reveal');

    if (feedbackBtn && emailReveal) {
      feedbackBtn.addEventListener('click', () => {
        feedbackBtn.style.display = 'none';
        emailReveal.classList.remove('hidden');
      });
    }
  }

  // Initialize everything
  function initAll() {
    initLenisAndParallax();
    initFeedbackButton();
  }

  // Initialize on DOM ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAll);
  } else {
    initAll();
  }

  // Reinitialize on Astro page navigation
  document.addEventListener('astro:page-load', initAll);

  // Cleanup on page leave
  document.addEventListener('astro:before-preparation', () => {
    if (lenis) {
      lenis.destroy();
      lenis = null;
    }
  });
</script>

<style>
  #parallax-container {
    min-height: 0;
    height: auto;
    align-items: flex-start;
  }

  .parallax-column {
    padding: 1.5rem 1rem;
    overflow: visible;
    position: relative;
    height: auto;
    min-height: 0;
    flex-shrink: 0;
  }



  .parallax-column img {
    align-self: right;
    height: 60px;
  }

  .img-container {
    display: flex;
    align-items: end;
    justify-content: end;
    padding-top: 40vh;
  }

  .count {
    position: relative;
    display: inline-block;
  }

  .faq .large {
    text-align: center;
    font-size: 20px;
    font-weight: 400;
  }

  .faq .text-base {
    font-size: 14px;
  }

  .big-section {
    padding-top: 4rem;
    padding-bottom: 4rem;
  }

  .section-container {
    gap: 0.5rem;
  }

  .count img {
    width: 38px !important;
    min-width: 38px;
    display: block;
    object-fit: contain;
  }

  .count p {
    position: absolute;
    top: 11px;
    left: 20%;
    margin: 0;
    font-size: 12px;
    font-weight: bold;
  }

  .column-content {
    will-change: transform;
    padding-bottom: 1rem;
    height: fit-content;
    min-height: 0;
  }

  .parallax-column a {
    color: white;
    text-decoration: underline;
    font-weight: 500;
  }

  .column-content .link {
    display: flex;
    justify-content: center;
  }

  /* Mobile/Desktop visibility */
  .mobile-only {
    display: none;
  }

  .desktop-only {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  /* Feedback button with hover effect */
  .feedback-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .feedback-button {
    background: none;
    border: none;
    cursor: pointer;
    position: relative;
    padding: 0;
    transition: transform 0.2s ease;
  }

  .feedback-button:hover {
    transform: scale(1.05);
  }

  .feedback-button img {
    height: 60px;
    width: auto;
    display: block;
  }

  .feedback-normal {
    transition: opacity 0.2s ease;
  }

  .feedback-hover {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  .feedback-button:hover .feedback-normal {
    opacity: 0;
  }

  .feedback-button:hover .feedback-hover {
    opacity: 1;
  }

  /* Email link styling */
  .email-link {
    font-size: 20px;
    font-weight: 500;
    color: white;
    text-decoration: underline;
    text-align: center;
    transition: opacity 0.3s ease;
  }

  .email-link:hover {
    opacity: 0.7;
  }

  .email-link.hidden {
    display: none;
  }

  @media (max-width: 768px) {
    .mobile-only {
      display: block;
    }

    .desktop-only {
      display: none;
    }
  }

  /* Keep your existing styles below */
  html, body {
    margin: 0;
    padding: 0;
    background-color: black !important;
  }

  body::-webkit-scrollbar {
    display: none;
  }

  .container {
    background-color: black;
    color: white;
    scrollbar-width: none;
    width: 100%;
    overflow-x: clip; /* Use clip instead of hidden to preserve sticky navbar */
    box-sizing: border-box;
  }

  .container::-webkit-scrollbar {
    display: none;
  }

  #parallax-container {
    position: relative;
  }

  .xtra-large {
    font-weight: 900;
    font-size: 28px;
  }

  p {
    padding: 10px 0;
    margin-right: 1rem;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  .large {
    font-weight: 800;
    font-size: 26px;
  }

  .separator {
    width: 100%;
    height: 1px;
    background-color: white;
    margin-top: 2.5rem;
    margin-bottom: 2.5rem;
  }

  .text-base a:hover {
    text-decoration: underline;
  }

  /* Responsive */
  @media (max-width: 768px) {
    #parallax-container {
      flex-direction: column;
    }

    .img-container {
      display: none;
    }

    .parallax-column {
      min-height: auto;
      padding: 1rem 0.5rem;
    }

    .column-content {
      padding-bottom: 0.5rem;
      transform: none !important;
    }

    p {
      margin-right: 0.5rem;
      font-size: 14px;
    }

    .xtra-large {
      font-size: 24px;
    }

    .large {
      font-size: 22px;
    }
  }
</style>